# 设计文档中关于标签继承机制描述的问题

## 问题描述

在`Agent-OES-task.md`文档中，关于标签处理器(TagProcessor)的任务描述容易导致对继承机制实现职责的误解。具体来说，文档中多处提到TagProcessor需要实现继承机制，但实际上标签继承应该是由Core包统一处理的核心功能，而不是每个标签处理器的职责。

### 问题位置

1. 第3节"AgentTagProcessor 实现"的成功标准中：
   > - 继承机制正确工作，能够继承和覆盖父定义

2. 第4节"LLMTagProcessor 实现"的成功标准中：
   > - 继承机制正确应用于LLM配置

3. 第5节"PromptTagProcessor 实现"的成功标准中：
   > - 继承机制正确应用于提示词标签

## 影响

这些描述容易让开发者产生误解，以为需要在TagProcessor中实现完整的标签继承逻辑，导致：

1. 重复实现已有功能，增加不必要的代码复杂度
2. 可能与Core包的继承机制产生冲突
3. 增加开发和测试工作量
4. 违背"不重复造轮子"的设计原则

## 修改建议

建议修改相关描述，明确TagProcessor对继承机制的职责仅限于：

1. 记录extends属性值到元数据中
2. 不需要实现实际的继承逻辑（合并属性和内容）

### 建议修改后的描述

对于第4节"LLMTagProcessor 实现"的成功标准，可以修改为：

- 通过UT-LP-001至UT-LP-006测试用例
- 正确提取和验证LLM配置属性
- API密钥环境变量名被安全处理，不记录或暴露实际密钥值
- API类型和模型名称验证正常工作
- 正确记录extends属性值（继承逻辑由Core包处理）

同样的模式可应用于其他TagProcessor的描述。

## 其他建议

可以在文档中添加一个关于继承机制职责分工的说明部分，明确Core包和各领域包在标签继承中的角色：

- Core包：负责标签继承的核心逻辑，包括属性合并、内容覆盖等
- 领域包标签处理器：只负责提取与记录extends属性值，不实现继承逻辑

这样可以避免后续开发中的类似误解。 