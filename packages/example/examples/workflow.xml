<?xml version="1.0" encoding="UTF-8"?>
<workflow name="数据自动化流程" version="1.0">
  <variables>
    <variable name="inputFile" type="string">dataset.csv</variable>
    <variable name="outputFormat" type="string">json</variable>
    <variable name="skipValidation" type="boolean">false</variable>
  </variables>
  
  <step id="step1" type="start">
    读取输入文件 ${inputFile}
  </step>
  
  <step id="step2" type="process">
    数据验证与清洗
  </step>
  
  <step id="step3" type="decision">
    数据是否完整？
  </step>
  
  <step id="step4" type="process">
    数据转换为${outputFormat}格式
  </step>
  
  <step id="step5" type="process">
    错误数据处理
  </step>
  
  <step id="step6" type="end">
    输出处理结果
  </step>
  
  <transition from="step1" to="step2" />
  <transition from="step2" to="step3" />
  <transition from="step3" to="step4" condition="isDataValid == true" />
  <transition from="step3" to="step5" condition="isDataValid == false" />
  <transition from="step4" to="step6" condition="isValid == false" />
  <transition from="step5" to="step6" />
</workflow> 