# DPML架构规则索引

本文档索引了DPML类库架构的所有强制规则文档。请根据需求查阅相关规则。

## 注意力路由表 (AttentionRouter)

根据当前任务类型，请以不同注意力等级关注相应章节：

- **忽略** - 当前任务可以不关注此内容
- **略知** - 大致了解即可，不需深入
- **了解** - 需要理解主要内容和原则
- **熟知** - 需要全面掌握内容和细节
- **谨记** - 必须牢记并严格遵守的核心规则

## 注意力分配矩阵

| 规则文档 | 公共API和数据结构开发 | 内部实现任务 | 重构任务 |
|---------|----------------------|------------|---------|
| [API层设计规则](api-layer.md) | **谨记** | **略知** | **熟知** |
| [Types层设计规则](types-layer.md) | **谨记** | **熟知** | **熟知** |
| [Core层设计规则](core-layer.md) | **了解** | **谨记** | **谨记** |
| [架构概览规则](architecture-overview.md) | **熟知** | **熟知** | **谨记** |
| [测试策略规则](testing-strategy.md) | **了解** | **熟知** | **了解** |
| [测试用例设计规则](test-case-design.md) | **了解** | **熟知** | **略知** |
| [UML图表表示规则](uml-representation.md) | **了解** | **熟知** | **熟知** |

## 规则文档概述

### [API层设计规则](api-layer.md)

定义了API层的设计规则，包括：
- 目录与文件组织规则
- 命名约定规则
- 函数设计原则规则
- API组织方式规则
- 错误处理规范规则
- 文档规范规则
- 渐进式API暴露规则
- API委托原则规则

### [Types层设计规则](types-layer.md)

定义了Types层的设计规则，包括：
- 目录与文件组织规则
- 命名约定规则
- 类型设计原则规则
- 类型组织原则规则
- 接口与类型别名使用规则
- 文档规范规则
- 内部类型与对外类型的区分规则
- 类型安全设计规则

### [Core层设计规则](core-layer.md)

定义了Core层的设计规则，包括：
- 目录与文件组织规则
- 模块服务设计规则
- 业务类设计规则
- 内部服务类设计规则
- 工厂模式设计规则
- 命名约定规则
- 不可变原则规则
- 文档规范规则

### [架构概览规则](architecture-overview.md)

定义了DPML类库整体架构规则，包括：
- 架构分层规则
- 数据流规则
- 组件关系规则
- 错误处理架构规则

### [测试策略规则](testing-strategy.md)

定义了DPML类库测试策略规则，包括：
- 分层测试策略规则
- 测试侧重点规则
- 测试实践规则
- 组件测试策略规则
- 测试组织规则
- 测试不足的处理规则

### [测试用例设计规则](test-case-design.md)

定义了DPML类库测试用例设计的规则，包括：
- 测试用例文档组织规则
- 测试用例表格设计规则
- 测试覆盖范围规则
- 正反面测试平衡规则
- 模拟(Mock)策略规则
- 测试夹具设计规则
- 测试用例设计最佳实践
- 测试用例评审规则

### [UML图表表示规则](uml-representation.md)

定义了DPML类库架构UML图表表示的规则，包括：
- 图表基本原则规则
- 组件表示规则
- 跨层级UML图设计规则
- 序列图表示规则
- 与代码映射关系规则
- 工具规范规则
- 实例参考规则

## 规则使用指南

1. **新功能开发**：首先了解[架构概览规则](architecture-overview.md)，然后根据开发的层级查阅相应的设计规则。
2. **API设计**：开发公共API时，严格遵循[API层设计规则](api-layer.md)和[Types层设计规则](types-layer.md)。
3. **内部实现**：实现核心功能时，严格遵循[Core层设计规则](core-layer.md)，并参考[架构概览规则](architecture-overview.md)中的组件关系矩阵。
4. **重构任务**：重构代码时，全面掌握所有规则，特别是[架构概览规则](architecture-overview.md)中的组件交互规则。
5. **测试编写**：编写测试时，遵循[测试策略规则](testing-strategy.md)，根据组件类型选择合适的测试策略；设计测试用例时，遵循[测试用例设计规则](test-case-design.md)。
6. **架构文档**：编写架构文档和UML图时，遵循[UML图表表示规则](uml-representation.md)，确保图表清晰、准确地反映代码结构。

## 术语参考

所有规则文档中使用的术语都在[架构术语表](../terminology.md)中定义，请在理解规则时参考该术语表。 